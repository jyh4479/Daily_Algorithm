ans = list()

def solution(N,M,K,X):
    graph=[[] for _ in range(N+1)]
    visit=[False for _ in range(N+1)]

    for _ in range(M):
        x,y=map(int,input().split())
        graph[x].append(y)

    def dfs(start, count):
        if count == K : 
            ans.append(start)
            return

        for i in graph[start]:
            if visit[i]==False:
                visit[i]=True
                dfs(i,count+1)
                visit[i]=False

    visit[X]=True
    dfs(X,0)


solution(4,4,2,1)
for data in ans:
    print(data)
